/*Nuestras variable*/
:root {
  --color-primario: #1f4e79;     
  --color-secundario: #2d9494;   
  --color-acento: #66c7c7;      
  --color-fondo: #f5f9fa;        
  --color-texto: #333333;     
  --color-footer: #f5f9fa;   
  --color-dorado: #be975b;
  --color-fondo-alternativo: #6b93ff;
}

* {
  box-sizing: border-box;
}

/*Body*/
body{    
    margin:0;
    background-color: var(--color-fondo);
    color: var(--color-texto);
    margin: 0;
}

/*header*/
/*para el header los hemos unido al extremo izquierdo con flex start y los hemos separados medianet margin:auto;
ya que siempre que pones auto buscara estar lo maximo posible a la direccion contraria de tu margin, por ejemplo
si le das un margin-right ira a la izquierda*/
.header{
    display: flex;
    align-items: center;
    justify-content: flex-start;
    background-color: var(--color-primario);
    color: white;
    margin: 0;
    width: auto;
    padding: 1rem;
}

.header img{
    margin-right: 10px;
    border-radius: 15px;
}

.header h3{
    margin-right: auto;
    margin-left: auto;
    font-size: 25px;
}


/*Todo el siguiende codigo esta hecho para que el desplegable del header sea invisible hasta que le demos al boton
con el fin de no hacer una pagina con opciones molestas y que tampoco sea algo tan cargado de información, 
así consiguiendo ser lo mas intuitivo posible para personas mayores*/

.sesion{
    border-radius: 15px;
    padding: 5px 5px;
    background-color: var(--color-secundario);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
}

#menu ul{
    list-style: none;
    margin: 0;
    padding: 0;
}
#menu ul a{
    display: block;
    color: #fff;
    text-decoration: none;
    font-weight: 400;
    font-size: 15px;
    padding: 10px;
    font-family: Arial, Helvetica, sans-serif;
    text-transform: uppercase;
    letter-spacing: 1px;
}
#menu{
    width: 30px;
}
#menu ul li{
    position: relative;
    width: 100%;
    font-size: 30px;
    float: left;
    margin: 0;
    padding: 0;
}
#menu ul li:hover{
    background-color: #545457;
}
#menu ul ul{
    display: none;
    position: absolute;
    top: 100%;
    right: 0;
    background-color: #eee;
    padding: 0;
}
#menu ul ul li{
   float: none;
   width: 150px;
   background-color: #2e518b;
}
#menu ul ul a{
    line-height: 120%;
    padding: 10px 15px;
}
#menu ul li:hover > ul{
    display: block;
}
/* fin de header*/

/*main*/

.contenedor-main{
    border: #000000 1px solid;
    margin: 20px;
    padding: 20px;
    border-radius: 8px;
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    background-color: var(--color-primario);
}


.usuario{
    border: #000000 1px solid;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.08);
    background-color: var(--color-fondo-alternativo);
    grid-column: 1;
    display: flex;
    flex-direction: column;
    padding: 12px;
}

.usuario h2{
    color: white;
    font-size: 22px;
    margin: 0 0 12px 0;
}

.usuario-info{
    display: grid;
    grid-template-columns: 120px 1fr;
    background-color: var(--color-fondo);
    align-items: start;
    border-radius: 10px;
    padding: 12px;
    gap: 12px;
    align-self: stretch;
    height: 300px;

}

.usuario-info div{
    height: max-content;
}

.usuario-info h3{
    color: var(--color-primario);
}

.usuario-info p{
    font-size: 14px;
    color: var(--color-texto);
}




/* Usuario info layout */
.usuario-info .fotito{
    width: 120px;
    height: 120px;
    border-radius: 10px;
    object-fit: cover;
    box-shadow: 0 2px 6px rgba(0,0,0,0.12);
}

.usuario-info > div{
    display: flex;
    flex-direction: column;
    width: 100%;
    gap: 8px;
}

.btn-cancelar,
.btn-mejorar,
.btn-contratar{
    border: none;
    padding: 8px 12px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.95rem;
}
.btn-cancelar{ background-color: #e05a5a; color: white; }
.btn-mejorar{ background-color: var(--color-secundario); color: white; }
.btn-contratar{ background-color: var(--color-acento); color: white; }
.btn-cancelar:hover{ opacity: 0.9 }
.btn-mejorar:hover{ opacity: 0.9 }
.btn-contratar:hover{ opacity: 0.95 }

.usuario-info p + h3{ margin-top: 8px; }
.usuario-info p{ margin: 0; line-height: 1.45; color: var(--color-texto); }

.usuario img{
    width: 150px;
    height: 150px;
    border-radius: 10px;
    object-fit: cover;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}



.info-extra{
    border: #000000 1px solid;
    border-radius: 10px;
    background-color: var(--color-fondo-alternativo);
    padding: 15px;
    grid-column: 1 / -1;
    margin-top: 10px;
    display: flex;
    flex-direction: column;
    height: 450px;
}

.info-extra h3{
    margin: 0 0 15px 0;
    color: white;
}

.info-extra > div:not(h3){
    flex: 1;
    background-color: var(--color-fondo);
    border-radius: 10px;
    padding: 15px;
}

.datos-usuario{
    border: #000000 1px solid;
    border-radius: 10px;
    background-color: var(--color-fondo-alternativo);
    grid-column: 2;
    grid-row: 1;
    display: flex;
    flex-direction: column;
    padding: 15px;
}

.datos-usuario h3{
    margin: 0 0 15px 0;
    color: white;
}

.datos-usuario > div:not(h3){
    flex: 1;
    background-color: var(--color-fondo);
    padding: 15px;
}

.datos-usuario .botones{
    display: flex;
    gap: 10px;
    margin-top: -10px;
    justify-content: center;
    background-color: var(--color-fondo);
    border-radius: 0 0 10px 10px;
    padding:-10px;
}

.btn-mejorar, .btn-contratar, .btn-cancelar{
    background-color: var(--color-secundario);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    flex: 1;
    transition: all 0.3s ease;
    margin-inline: 5px;
}

.servicio{
    background-color: var(--color-fondo);
    width: auto;
    border-radius: 10px 10px 0 0;
}

.info{
    margin: 10px;
}

.Siguiente{
    background-color: var(--color-secundario);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    flex: 1;
    transition: all 0.3s ease;
    height: 50px;
    font-weight: 600;
}
.Anterior{
    background-color: var(--color-secundario);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    flex: 1;
    transition: all 0.3s ease;
    height: 50px;
    font-weight: 600;
}


.datos-usuario .botones .Siguiente:hover:not(:disabled),
.datos-usuario .botones .Anterior:hover:not(:disabled){
    background-color: var(--color-acento);
}

.datos-usuario .botones button:disabled{
    opacity: 0.5;
    cursor: not-allowed;
}



/*FOOTER*/
/*Damos una estructura grid con 3 columnas y 2 filas para poder organizarlo de forma sencilla y poder 
dar una estructura clara para cada uno de los elementos de nuestro footer siendo el mapa un 2x2
ocupando la esquina superior izquierda, un linea abajo que es un 1x3 ocupando abajo y luego 2 cajas a la derecha*/
.footer{
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
    margin-top: 50px;
    background-color: var(--color-primario);
    color: var(--color-footer);
    grid-template-rows: auto;
    
}

.footer .ubicacion, .footer .redes, .footer .contacto, .footer .legal, .footer .elementos{
    height: fit-content;
    width: auto;
}

.redes{
    grid-column-start: 3;
    grid-column: span 1/ span 1;
    justify-content: center;
    height: 100%;
}

.footer .redes a{
    color: var(--color-footer);
}

.footer .redes a i{
    padding-inline: 20px;
    text-align: center;
}

.ubicacion{
    grid-column-start: 1;
    grid-column: span 2 / span 2;
    grid-row: span 2 / span 2;
    height: fit-content;
    text-align: center;
    justify-items: center;
}

#map{
    height: 350px;
    width: 450px;
}

.contacto{
    grid-column-start: 3;
    grid-row-start: 2;
}

.elementos{
    grid-column: span 3 / span 3;
    grid-row-start: 3;
    grid-column-start: 1;
    text-align: center;
}

.header h1 {
    color: white;
}
.sesion:hover {
    background-color: var(--color-acento);
}
#menu ul li ul {
    background-color: var(--color-primario);
}
#menu ul li ul li a {
    color: white;
}
.contenedor-servicios h4 {
    color: var(--color-primario);
}
.footer .elementos a {
    color: var(--color-footer);
    
}

/*Fin de footer*/

@media only screen and (max-width: 900px) {

    .btn-mejorar, .btn-contratar, .btn-cancelar{
        padding: 8px 12px;
        font-size: 14px;
        height: 35px;
    }

    .header {
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        padding: 0.5rem 1rem;
        flex-wrap: wrap; 
    }

    .header img {
        width: 50px;
        height: auto;
    }

    .header h1, 
    .header h3 {
        font-size: 1rem;
        margin: 0.5rem 0;
    }

    .header h3 {
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }


    #map{
    height: 250px;
    width: 350px;
    }

    .contenedor-main{
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .usuario{
        padding: 15px;
    }


    .usuario-info{
        padding: 15px;
        flex-direction: column;
    }
    
    .info-extra{
        grid-column: 1;
        border-radius: 10px;
        padding: 15px;
    }

    .info-extra h3{
        margin: 0 0 15px 0;
    }

    .datos-usuario{
        border: #000000 1px solid; 
        grid-column: 1;
        border-radius: 10px;
        padding: 15px;
    }

    /* Ensure datos-usuario appears first on small screens */
    .datos-usuario{ order: 0; }
    .usuario{ order: 1; }
    .info-extra{ order: 2; }

    .datos-usuario h3{
        margin: 0 0 15px 0;
    }

    
    .footer {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center; 
        text-align: center;
        padding: 1rem 0;
        gap: 10px;
    }

    #map{
    height: 250px;
    width: 350px;
}

    .ubicacion,
    .redes,
    .contacto {
        align-self: center;
    }
}

/* ============= ESTILOS PARA EL CHAT ============= */
#chat {
    display: flex;
    flex-direction: column;
    height: 400px;
    border: 2px solid var(--color-primario);
    border-radius: 10px;
    background-color: white;
    overflow: hidden;
}

#messages {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background-color: #f9f9f9;
}

.message {
    padding: 10px 15px;
    border-radius: 8px;
    max-width: 80%;
    word-wrap: break-word;
    animation: slideIn 0.3s ease-in-out;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.user-message {
    align-self: flex-end;
    background-color: var(--color-primario);
    color: white;
    border-bottom-right-radius: 0;
}

.bot-message {
    align-self: flex-start;
    background-color: var(--color-acento);
    color: white;
    border-bottom-left-radius: 0;
}

.bot-message.error {
    background-color: #ff6b6b;
}

.bot-message.loading {
    font-style: italic;
    opacity: 0.7;
}

.message p {
    margin: 0;
    font-size: 14px;
}

#input {
    padding: 12px 15px;
    border: none;
    border-top: 2px solid var(--color-primario);
    font-size: 14px;
}

#input:focus {
    outline: none;
    background-color: #f0f0f0;
}

#input::placeholder {
    color: #999;
}

/* Scrollbar personalizada */
#messages::-webkit-scrollbar {
    width: 8px;
}

#messages::-webkit-scrollbar-track {
    background: #f1f1f1;
}

#messages::-webkit-scrollbar-thumb {
    background: var(--color-primario);
    border-radius: 4px;
}

#messages::-webkit-scrollbar-thumb:hover {
    background: var(--color-secundario);
}
